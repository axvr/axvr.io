<!DOCTYPE html>

<html>
  <head>
    <title>Ascribe specification â€” Alex Vear</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/lato.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/libre-franklin.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/inconsolata.css" />

    <!-- RSS Feeds -->
    <!-- <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/posts/feed.xml" /> -->

    <!-- Metadata -->
    <meta name="author" content="Alex Vear" />
    <!-- <meta name="description" content="###DESCRIPTION###" /> -->
  </head>

  <body>

    <div class="container">

      <div class="item content">
<title>Ascribe specification</title>

<p><a href="../">&lt;-- back</a></p>
<h1 id="ascribe-specification">Ascribe specification</h1>
<p><strong>Version</strong>: <code>v1.0</code><br> <strong>Last modified</strong>: <code>2019-05-19</code></p>
<p>This is the Ascribe specification. If you are unsure how <code>.gitattributes</code> files work, you can read my document on <a href="../usage">using <code>.gitattributes</code> files</a>. That document also explains the various terms used in this page, e.g. "explicitly set/unset".</p>
<p>Most of the time if a specific option is "unspecified", Ascribe should use the default settings of the editor or tool, i.e. do nothing. Any exceptions to this are mentioned below.</p>
<p>To reduce risks posed by arbitrary code execution, only specific characters are allowed to be used in the value for an option. The value has to match this (<a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html#tag_09_04">POSIX extended</a>) regular expression: <code>/[a-zA-Z0-9_.-]*/</code>.</p>
<ul>
<li><a href="#expand-tab"><code>expand-tab</code></a></li>
<li><a href="#tab-stop"><code>tab-stop</code></a></li>
<li><a href="#eol"><code>eol</code></a></li>
<li><a href="#trim-trailing-whitespace"><code>trim-trailing-whitespace</code></a></li>
<li><a href="#final-newline"><code>final-newline</code></a></li>
<li><a href="#line-length"><code>line-length</code></a></li>
<li><a href="#binary"><code>binary</code></a></li>
<li><a href="#working-tree-encoding"><code>working-tree-encoding</code></a></li>
</ul>
<!-- Possible additional attributes
- File type detection.
- Trim trailing newlines from end of file.
- Spell check.
- Spell check language.
-->

<h2 id="expand-tab"><code>expand-tab</code></h2>
<p><strong>Type</strong>: boolean.</p>
<p>Controls whether presses of the tab key will be expanded into spaces. The number of spaces a tab is expanded to is controlled by <a href="#tab-stop"><code>tab-stop</code></a>.</p>
<h2 id="tab-stop"><code>tab-stop</code></h2>
<p><strong>Type</strong>: integer.</p>
<p>The number of spaces which represent a tab character. The most common values for this attribute are: <code>2</code>, <code>4</code> and <code>8</code>.</p>
<h2 id="eol"><code>eol</code></h2>
<p><strong>Type</strong>: string.</p>
<p>Sets the character(s) used at the end of a line.</p>
<p>Setting this option enables end-of-line normalisation by Git (without having to set <code>text</code>).</p>
<p><strong>Values</strong>: (case insensitive)</p>
<ul>
<li><code>lf</code> - Unix</li>
<li><code>crlf</code> - DOS</li>
</ul>
<p>There is no support for Mac line-endings (<code>cr</code>), this is because they are now extremely rare and not supported by Git.</p>
<h2 id="trim-trailing-whitespace"><code>trim-trailing-whitespace</code></h2>
<p><strong>Type</strong>: boolean.</p>
<p>If explicitly set, this option will automatically trim trailing whitespace. Typically this would occur just before saving the file.</p>
<h2 id="final-newline"><code>final-newline</code></h2>
<p><strong>Type</strong>: boolean.</p>
<p>The <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_206">POSIX specification</a> states that a line should always end with a newline character, including the last line of the file. Many tools in the Unix world expect this final newline character to be there, otherwise they may consider the file to be corrupted or at the very least, truncated.</p>
<p>By explicitly setting this option, an Ascribe tool will automatically insert the final newline character if it is missing.</p>
<p>This option is not enforced by Git, however running <code>git diff --check</code> will inform you if it is missing.</p>
<h2 id="line-length"><code>line-length</code></h2>
<p><strong>Type</strong>: integer.</p>
<p>This option is primarily used for line length guides. Ascribe intentionally doesn't try to enforce it.</p>
<h2 id="binary"><code>binary</code></h2>
<p><strong>Type</strong>: boolean.</p>
<p>If explicitly set, Git will not attempt to diff changes, and Ascribe will inform the editor that the file contains binary content.</p>
<h2 id="working-tree-encoding"><code>working-tree-encoding</code></h2>
<p><strong>Type</strong>: string.</p>
<p>Whenever a file is checked into Git, it will be stored using the UTF-8 file encoding. When files are checked out of Git, they will also be encoded in UTF-8 (regardless of the encoding the file was originally using). The <code>working-tree-encoding</code> option allows you to override the encoding used when checking out the file.</p>
<p>This option is enforced by Git, however there are some limitations. According to the <a href="https://www.git-scm.com/docs/gitattributes"><code>gitattributes(5)</code></a> manual page, there can be pretty major issues when using Git clients which don't support the <code>working-tree-encoding</code> option.</p>
<p>Because of these issues, this option hasn't yet been implemented in the "official" Ascribe extensions. If you must use it, please read the entirety of the appropriate section of the <code>gitattributes(5)</code> manual page, do it manually and inform all contributors about potential issues.</p>
      </div>

      <nav class="item sidebar">

        <h1><a href="/" title="Index">Alex Vear</a></h1>

        <div id="linkbar">
          <ul>
            <li><a href="/posts" title="Essays"><i class="fa fa-pencil"></i>Essays</a></li>
            <li><a href="/notes" title="Quick thoughts & notes"><i class="fa fa-sticky-note"></i>Notes</a></li>
            <li><a href="/projects" title="Projects & contributions"><i class="fa fa-code"></i>Projects</a></li>
            <li><a href="https://github.com/axvr" title="GitHub (axvr)"><i class="fa fa-github"></i>GitHub</a></li>
          </ul>
        </div>

        <div id="side-content">
          <br>

          <h2>Projects</h2>

          <ul style="list-style: none; padding-left: 0px; margin: 0px;">

            <li style="margin: 10px 0px;"><a href="/projects/ascribe"><b>Ascribe</b></a>
              An alternative to EditorConfig.</li>

            <li style="margin: 10px 0px;"><a href="https://github.com/axvr/photon.vim"><b>Photon.vim</b></a>
              An elegant dark Vim colour scheme using very few colours.</li>

            <li style="margin: 10px 0px;"><a href="https://github.com/axvr/org.vim"><b>Org.vim</b></a>
              Org mode and Outline mode syntax and folding definitions for Vim.</li>

          </ul>

          <br>
        </div>

        <div id="licence">
          <p>All content on this site is licenced under the
          <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
          licence. The source code for the site is under the
          <a href="https://github.com/axvr/axvr.github.io/blob/master/LICENCE">ISC</a>
          licence.</p>
        </div>

      </nav>

    </div>

  </body>
</html>
